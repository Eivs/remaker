# Markdown Editor 使用指南

## 🚀 快速开始

### 1. 安装依赖

#### 后端依赖
```bash
cd backend
pip install -r requirements.txt
```

#### 前端依赖
```bash
cd frontend
npm install
```

### 2. 启动开发服务

#### 方式一：使用启动脚本（推荐）
```bash
# 在项目根目录执行
./start-dev.sh
```

#### 方式二：分别启动
```bash
# 终端 1 - 启动后端
cd backend
python main.py

# 终端 2 - 启动前端
cd frontend
npm run dev
```

### 3. 访问应用
- 前端应用：http://localhost:3000
- 后端 API：http://localhost:8000
- API 文档：http://localhost:8000/docs

## 📱 功能说明

### 用户认证
1. **注册**：访问 `/register` 页面创建新账户
2. **登录**：访问 `/login` 页面登录现有账户
3. **登出**：点击导航栏右上角的"退出"按钮

### 文章管理
1. **创建文章**：登录后点击"写文章"按钮或访问 `/editor`
2. **编辑文章**：在"我的文章"页面点击文章标题或编辑按钮
3. **保存文章**：在编辑器中点击"保存"按钮
4. **发布文章**：保存后点击"发布"按钮，文章将在公开页面显示
5. **删除文章**：在"我的文章"页面点击删除按钮

### Markdown 编辑
1. **实时预览**：编辑区和预览区并列显示，实时同步
2. **工具栏**：支持常用格式化快捷按钮
3. **语法高亮**：支持代码块语法高亮
4. **快捷键支持**：标准 Markdown 语法

### 文章浏览
- **我的文章**：查看自己创建的所有文章（草稿和已发布）
- **公开文章**：浏览所有用户发布的文章

## 🔧 技术栈

### 前端
- React 18 + TypeScript
- Vite (构建工具)
- TailwindCSS (样式框架)
- React Router (路由管理)
- Axios (HTTP 客户端)
- React Markdown (Markdown 渲染)
- Lucide React (图标库)

### 后端
- FastAPI (Python Web 框架)
- SQLAlchemy (ORM)
- SQLite (数据库)
- JWT (身份验证)
- Passlib (密码加密)

## 🏗️ 项目结构

```
markdown-app/
├── frontend/                 # React 前端
│   ├── src/
│   │   ├── components/       # 可复用组件
│   │   ├── contexts/         # React Context
│   │   ├── pages/           # 页面组件
│   │   ├── services/        # API 服务
│   │   └── types/           # TypeScript 类型定义
│   ├── package.json
│   └── vite.config.ts
├── backend/                  # FastAPI 后端
│   ├── app/
│   │   ├── routers/         # API 路由
│   │   ├── models.py        # 数据库模型
│   │   ├── schemas.py       # Pydantic 模式
│   │   ├── database.py      # 数据库配置
│   │   └── auth.py          # 认证工具
│   ├── main.py              # 应用入口
│   └── requirements.txt
└── start-dev.sh             # 开发环境启动脚本
```

## 🌟 主要功能特性

- ✅ 用户注册和登录
- ✅ JWT 身份验证
- ✅ Markdown 实时编辑和预览
- ✅ 文章创建、编辑、保存、删除
- ✅ 文章发布和取消发布
- ✅ 公开文章浏览
- ✅ 响应式界面设计
- ✅ 代码语法高亮
- ✅ 丰富的 Markdown 工具栏

## 🔐 API 端点

### 认证
- `POST /api/auth/register` - 用户注册
- `POST /api/auth/login` - 用户登录

### 文章
- `GET /api/articles` - 获取用户文章
- `GET /api/articles/public` - 获取公开文章
- `GET /api/articles/{id}` - 获取文章详情
- `POST /api/articles` - 创建文章
- `PUT /api/articles/{id}` - 更新文章
- `DELETE /api/articles/{id}` - 删除文章
- `POST /api/articles/{id}/publish` - 发布文章
- `POST /api/articles/{id}/unpublish` - 取消发布文章

## 🐛 故障排除

### 后端启动失败
1. 检查 Python 版本（推荐 3.8+）
2. 确保所有依赖已安装：`pip install -r requirements.txt`
3. 检查端口 8000 是否被占用

### 前端启动失败
1. 检查 Node.js 版本（推荐 16+）
2. 删除 `node_modules` 并重新安装：`rm -rf node_modules && npm install`
3. 检查端口 3000 是否被占用

### CORS 错误
确保后端的 CORS 配置包含前端地址（默认为 http://localhost:3000）

## 🔄 开发流程

1. 启动开发环境：`./start-dev.sh`
2. 在浏览器中访问 http://localhost:3000
3. 注册新用户账户
4. 创建和编辑 Markdown 文章
5. 测试发布和浏览功能

## 📝 待改进功能

- [ ] 用户头像上传
- [ ] 文章标签系统
- [ ] 搜索功能
- [ ] 文章评论系统
- [ ] 文章点赞功能
- [ ] 文章分类管理
- [ ] 导出功能（PDF、HTML）
- [ ] 文章版本历史
- [ ] 协作编辑功能
